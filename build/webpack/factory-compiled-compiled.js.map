{"version":3,"sources":["factory-compiled.js"],"names":[],"mappings":"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","file":"factory-compiled-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = webpackFactory;\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _lodash = require('lodash');\n\nvar _extractTextWebpackPlugin = require('extract-text-webpack-plugin');\n\nvar _extractTextWebpackPlugin2 = _interopRequireDefault(_extractTextWebpackPlugin);\n\nvar _webpack = require('webpack');\n\nvar _webpackNodeExternals = require('webpack-node-externals');\n\nvar _webpackNodeExternals2 = _interopRequireDefault(_webpackNodeExternals);\n\nvar _WriteManifestPlugin = require('./plugins/WriteManifestPlugin');\n\nvar _WriteManifestPlugin2 = _interopRequireDefault(_WriteManifestPlugin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hashType = function hashType(config) {\n  return config.optimise ? 'chunkhash' : 'hash';\n};\n\nvar stylusLoader = function stylusLoader(config) {\n  var cssLoaderQuery = 'modules&localIdentName=[path][name]--[local]--[hash:base64:5]';\n  if (config.type === 'server') {\n    return 'css/locals?' + cssLoaderQuery + '!stylus';\n  }\n  return config.optimise ? _extractTextWebpackPlugin2.default.extract('css?' + cssLoaderQuery + '!stylus') : 'style?singleton!css?' + cssLoaderQuery + '!stylus';\n};\n\nvar cssLoader = function cssLoader(config) {\n  if (config.type === 'server') {\n    return 'css';\n  }\n  return config.optimise ? _extractTextWebpackPlugin2.default.extract('css') : 'style?singleton!css';\n};\n\nfunction webpackFactory(config, appConfig) {\n  return {\n    stats: {\n      children: false\n    },\n\n    entry: {\n      client: {\n        bundle: [config.hotReload && 'webpack-dev-server/client?/', config.hotReload && 'webpack/hot/only-dev-server', 'babel-polyfill', _path2.default.resolve(__dirname, '..', '..', 'src', 'client', 'index.js')].filter(_lodash.identity)\n      },\n      server: {\n        server: ['babel-polyfill', _path2.default.resolve(__dirname, '..', '..', 'src', 'server', 'index.js')]\n      }\n    }[config.type],\n\n    output: {\n      filename: config.type === 'server' ? '[name].js' : '[name]-[' + hashType(config) + ':6].js',\n      path: _path2.default.resolve(__dirname, '..', '..', 'dist'),\n      publicPath: 'http://localhost:' + appConfig.port + '/dist/'\n    },\n\n    target: { client: 'web', server: 'node' }[config.type],\n\n    externals: [config.type === 'server' && (0, _webpackNodeExternals2.default)({\n      whitelist: ['bootstrap/dist/css/bootstrap.css', 'bootstrap/dist/css/bootstrap-theme.css']\n    })].filter(_lodash.identity),\n\n    devtool: config.debug || config.type === 'server' ? 'cheap-module-inline-source-map' : 'hidden-source-map',\n\n    debug: true,\n\n    module: {\n      loaders: [{\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loaders: [config.hotReload && 'react-hot', 'babel'].filter(_lodash.identity)\n      }, {\n        test: /\\.json$/,\n        loader: 'json'\n      }, {\n        test: /\\.styl$/,\n        loader: stylusLoader(config)\n      }, {\n        test: /\\.css$/,\n        loader: cssLoader(config)\n      }, {\n        test: /\\.(?:png|svg|woff2?|eot|ttf)$/,\n        loader: 'url?limit=5120&name=[name]-[hash:6].[ext]'\n      }]\n    },\n\n    plugins: [new _webpack.DefinePlugin({\n      __CLIENT__: config.type === 'client',\n      __DEV__: config.debug,\n      __DEVELOPMENT__: config.debug,\n      __SERVER__: config.type === 'server',\n      'process.env': {\n        NODE_ENV: JSON.stringify('production')\n      }\n    }), new _webpack.NoErrorsPlugin(), config.hotReload && new _webpack.HotModuleReplacementPlugin(), config.type === 'client' && config.optimise && new _extractTextWebpackPlugin2.default('[name]-[contenthash:6].css', {\n      allChunks: true\n    }), config.type === 'server' && config.debug && new _webpack.BannerPlugin('require(\"source-map-support\").install();', {\n      raw: true,\n      entryOnly: false\n    }), config.optimise && new _webpack.optimize.UglifyJsPlugin({\n      compressor: {\n        warnings: false\n      }\n    }), config.type === 'client' && new _WriteManifestPlugin2.default(config)].filter(_lodash.identity),\n\n    resolve: {\n      alias: {\n        root: _path2.default.resolve(__dirname, '..', '..', 'src')\n      },\n      extensions: ['', '.json', '.js'],\n      modulesDirectories: ['src', 'node_modules']\n    }\n  };\n}\n\n//# sourceMappingURL=factory-compiled.js.map"]}